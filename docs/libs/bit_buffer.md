# Модуль *BitBuffer*

Модуль, который позволяет объявить объект BitBuffer'а, который хранит в себе массив бит и позволяет легко получать или добавлять разные значения

## Импортирование и пример

```lua
-- Импортируем not_utils и из него буффер
local buf = require "not_utils:main".BitBuffer;

-- Создадим новый инстанс буффера
local buf = buf:new();

-- Теперь можно пользоваться буффером.
```

## Поля

```lua
-- Содержит текущую позицию буффера в битах
buf.pos

-- Содержит текущий изменяемый байт
buf.current

-- Содержит все хранящиеся байты, исключая current
buf.bytes
```

## Методы на запись

```lua
-- Добавляет бит в буффер
buf:put_bit(bit: Boolean)

-- Добавляет беззнаковое число переменной длины в буффер
-- Длина указывается в битах
buf:put_uint(num: Number, width: Number)
```

## Методы на чтение
```lua
-- Читает бит из буффера
buf:get_bit() -> Boolean

-- Читает беззнаковое число переменной длины из буффера
buf:get_uint(width: Number)
```

## Другие методы
```lua
-- Сливает биты (current) в буффер, использовать рекомендуется только в самом конце сериализации
buf:flush()
```

Остальные методы идентичны модулю [DataBuffer](https://github.com/MihailRis/voxelcore/blob/main/doc/ru/scripting/modules/core_data_buffer.md) из движка

[Вернуться на главную](../index.md)
